\section{Results}
\label{sec:results}
As stated in the introduction, section \ref{sec:intro}, this literature study was complicated by 
the blurring lines between physical, digital, and biological spheres.
This literature study set out to discover the state-of-the-art of research on the energy efficiency impact of, \textbf{explicitly} \textit{robotics software}.
Meaning the explicit impact on energy efficiency of various aspects of the software itself.
It became quickly apparent during the search and selection process, as described in section \ref{sec:study_design:search_selection}, 
that few studies existed on this specific topic.
Out of all 683 potentially relevant studies, only two studies have been found that explicitly research this topic.

\vspace{2mm}

One study \cite{rahman2019cloud_robot_offloading} provides proof that a software architectural change; 
from on-board calculations to off-loading to more available robots or the cloud, actually impacts energy efficiency positively.
Another study \cite{hou2017novel_cloud_evaluation_model} presents a robotics software evaluation method based on energy consumption.
The method allows for identifying those robotics software aspects that consume relatively more energy. 
It can also be used to predict the energy consumption of a specific piece of robotics software, allowing it to be used during software development, 
to create more energy efficient software from the moment it is designed.

\vspace{2mm}

The fact that these two studies were the only ones explicitly covering research into the energy efficiency impact of robotics software aspects will
form the basis of the discussion, given in section \ref{sec:discussion}.
To prevent an insignificant literature study, the focus has been shifted from looking at software aspects, to see what impact 
robotics software in general can have on energy efficiency. The blurred distinction between software and hardware in robotics made the 
application of the inclusion criteria a tough process.
The final selection of primary studies is the result of a rigorous application of these criteria; 
a study had to explicitly cover \textit{some} software aspect in relation to energy efficiency.

\vspace{2mm}

In this section, the insights gained from the data sheet are summarized and given for each column in subsection \ref{sec:results:insights}.
Hereafter, this section is structured according to the research questions.
Each of those subsections gives a detailed explanation of the findings of this literature study in the context of that research question.
The main findings of each research question are presented at the end of each corresponding subsection.

% ========================================================================= Insights =========================================================================

\subsection{Data sheet insights}
\label{sec:results:insights}
The insights, as gained by each of the columns of the data sheet, are given in this subsection.
Any conclusions drawn from these insights in order to answer the research questions targeted by this literature study,
are given in their respective subsections \ref{sec:results:rq1_pub_trends}, \ref{sec:results:rq2_state_of_the_art} and \ref{sec:results:rq3_trade_off}.

\vspace{5mm}

\noindent\textbf{1. Date:}
In figure \ref{fig:pub_trends}, it can be observed that, even though this field of study has been around since before the change of the century,
it truly attained interest in the last decade (2010 - 2020), with a significant spike nearing 2020.
It can also be observed that the more thoroughly peer reviewed, higher quality research; journal articles are only published in the last $\pm 5$ years.

\begin{figure}[t]
    \includegraphics[width=250pt]{figures/publication_trend_extended.png}
    \caption{Publication trends by type}
    \label{fig:pub_trends}
\end{figure}

\vspace{2mm}

\noindent\textbf{2. Energy Metric:} % Might be more sensible to change to Efficiency Metric
% Various metrics used
% Power and Energy separate
% Joules / KiloJoules / NanoJoules most popular.
% Most intersting: FPS / W etc.
% Conclusion: Many different metrics, joules most popular, comparison difficult
It can be observed that the energy metric used in the primary studies differs significantly.
In the case that a simplified energy model is used, as explained in part 10 of this subsection, the energy metric is the most unique;
units of distance traveled per units of energy \cite{mei2006mobile_exploration, patel2012exploration_strategy}.

All other energy metrics given use a study specific metric in relation to either; energy, \textbf{Joules} (\textit{J}) or power, \textbf{Watts} (\textit{W}).
The three most common, descriptive and comparable metrics observed are:
\begin{enumerate}
    \item $FPS / Watt$ \cite{cheng2018FPGA_image_recognition}
    \item $Joules / Meter$ \cite{licea2013wireless_comms}
    \item $Joules / H$ or $Watts / H$ \cite{kim2016firefighting_robot,barili1995efficient_motion}
\end{enumerate}

\vspace{2mm}

\noindent\textbf{3. QA Trade-off:}
% Various trade-offs mentioned.
% Used in RQ 3.
\todo{Write after RQ3}

\vspace{2mm}

\noindent\textbf{4. Application Domain:}
% Exploration / Service robots
\begin{figure}[t]
    \includegraphics[width=250pt]{figures/app_domains_freq.png}
    \caption{Application domains frequency}
    \label{fig:app_domains}
\end{figure}
In figure \ref{fig:app_domains} it can be observed that the application domain of \textbf{Robot Exploration} is the most frequent
domain considered in the primary studies. 
The domain of \textbf{Industrial Robot} is at the second place with less than half the frequency.

This is interesting, considering that in terms of emmissions and energy saving potential, there is far more to achieve in the industrial domain
as specified in the introduction; section \ref{sec:intro}.
From this statistic one could thus reason that the combination of functional and efficiency improvements forms the main motivation. 
The extension of the operational time of a mobile robot, as a result of the improved energy efficiency, 
is far more functionally relevant than reducing the energy consumption of an industrial robot;
considering the industrial robot has a continuous power supply, energy efficiency is not as functionally important as it will
not deliver any functional improvement. 
Rather, as specified in part 3 (QA Trade-off) of this subsection, it will most likely have some (negative) impact on performace.

\vspace{2mm}

\noindent\textbf{5. Identified Major Consumers:}
% Software inefficiencies
% Hardware inefficiencies
% Hardly win-win, only when time reduced, hardware inefficiency reduced etc. (only with software?)
The identified major consumers in the primary studies vary considerably, as can be seen in appendix \ref{appendix:data_sheet_1}.
This is a result from the different application domains and their implementation specific details.
However, a common theme can be identified:

\vspace{2mm}

No matter the application domain, any identified inefficiency is always traced back to a hardware inefficiency, 
which is solved by improving software.

\vspace{2mm}

Considering robots use software to control their physical hardware, and the fact that robots exist to satisfy some physical need, this makes sense.
From all primary studies, only one identifies solely software itself as the main consumer \cite{hou2017novel_cloud_evaluation_model}.
It presents a novel cloud evaluation model; which evaluates the energy efficiency of the software itself.
Using the model, the software itself; its execution, can be made more efficient.

\vspace{2mm}

The fact that this is the only study addressing this aspect of robotics software, forms the basis of the discussion in section \ref{sec:discussion}.


\vspace{2mm}

\noindent\textbf{6. Identified Improving Software Aspect:}
% Mostly solving hardware with software
Among the primary studies, all inefficiencies are solved by improving the robotics software;
as this literature study explicitly targets such studies.
As the presented improvements are very implementation specific, they are hardly comparable.
However, a common theme among the improvements can be identified:
Each improvement solves a hardware inefficiency using software; however, each improvement does so to various degree.
Two examples from the primary studies:

\begin{itemize}
    \item Improving the path planning algorithm (\textit{software}) to limit inefficient use of \textit{hardware} as the path
    is more energy efficient (shorter, less stops and/or turns, etc.) (\textbf{low degree of improved hardware ineffiency}) \cite{mei2006mobile_exploration}.
    \item Introducing an algorithm (\textit{software}) which off-loads computations to a more energy-optimized cloud infrastructure (\textit{hardware}) 
    (\textbf{high degree of improved hardware inefficiency}) \cite{rahman2019cloud_robot_offloading}.
\end{itemize}

\vspace{2mm}

\noindent\textbf{7. Major Contribution:}
% For example the entire system, integrating the software aspects to improve inefficiency.
For each of the primary studies the major contribution is the implementation and evaluation of the identified software aspect that would
improve the inefficiency. 
This column can therefore be seen as an extension of the previous column (\textit{6. Identified Improving Software Aspect}).

\vspace{2mm}

\noindent\textbf{8. Experiment:}
% Experiment performed most common: simulation, why?
\begin{figure}
    \includegraphics[width=250pt]{figures/experiment_distr.png}
    \caption{Experiment distribution}
    \label{fig:experiment_distr}
\end{figure}
Most studies performed an experiment, only one primary study did not.
From figure \ref{fig:experiment_distr}, it can be observed that most studies (9) perform an experiment in the form of a simulation, 
this is without counting the combination of real-world and simulation.
considering those would bump the number of primary studies using a simulation as experiment to 12, $\pm 70\%$ of the primary studies.
Four primary studies performed a real-world experiment.
Three studies performed a combination of real-world and simulated experiments.

For understanding the experiments, especially the simulations, the energy model used is of high value; this is given in appendix \ref{appendix:data_sheet_2}.

\vspace{2mm}

\noindent\textbf{9. Comparison Against State-Of-The-Art:}
% Mostly yes, important for validity!
To verify the validity of the claims presented in the primary studies, the comparison against the state-of-the-art is important.
In 14 of the 17 primary studies ($\pm 80\%$) a comparison was made.
From the three studies that had no comparison, one was a paper presenting a novel cloud evaluation model \cite{hou2017novel_cloud_evaluation_model}
which has no state-of-the-art to compare to as it presents something completely new.

\vspace{2mm}

It is therefore safe to say that 15 of the 17 primary studies ($\pm 90\%$) uphold the comparison.

\vspace{2mm}

This is of importance as this literature study's validity is dependent upon the validity of the literature it is based on.
The threats to the validity of this literature study, and what has been done to mitigate these threats,
is further detailed in section \ref{sec:threats}.

\vspace{2mm}

\noindent\textbf{10. Energy Model:}
% Interesting for future research / comparison between the relative studies
The energy model used in any of the primary studies is given in appendix \ref{appendix:data_sheet_2}.
The validity of the contributions of the studies is dependent on the validity of the energy model used (if applicable), 
therefore these are recorded and given.

\vspace{2mm}

They can also be valuable for any practitioner or researcher that seeks insight into energy models for simulation.

\vspace{2mm}

Many different energy models have been used by the various primary studies, some try to simulate the energy consumption 
as precisely as possible by simulating drag, torque, acceleration, decelleration, etc. with advanced mathematics. 
Two papers \cite{patel2012exploration_strategy, mei2006mobile_exploration}, use the same approach as their energy model.
The energy model used is very simple and it is the only model in the primary studies which is used by multiple papers;
these papers are written by different authors but within the same field of study; mobile robot exploration.
The model they use consists of a simulated grid, where each grid cell consists of 1x1 Units of Distance, 
and travelling 1 Unit of Distance equals 1 Unit of Energy.
Each stop costs 0.5 Units of Energy and each 45째 turn costs 0.4 Units of Energy, each additional 45째 adding another 
0.2 Units of Energy to the total cost.
Meaning: a 90째 turn would cost 0.6 Units of Energy and a 135째 turn would cost 0.8 Units of Energy etc.

\vspace{2mm}

This simple energy model is only relevant for simulating the energy cost of moving the robot.
It is however interesting, that none of the energy models, not even the mathematically advanced ones, are capable of 
simulating any computational energy usage.
Therefore, in studies where this is of importance, only a real-world experiment was able to provide these insights.

% ========================================================================= RQ 1 =========================================================================

\subsection{Results - publication trends (RQ1)}
\label{sec:results:rq1_pub_trends}

In this section the results obtained when analyzing the publication trends on energy efficiency in robotics software are presented.
Understanding the publication trends in the field of study is essential for interpreting the results of this literature study as it gives
an idea of the maturity of the field.

From these findings, as stated in part 1. of subsection \ref{sec:results:insights}, we can conclude that the maturity of the field, considering the number of publications relative to their publication dates, 
is rather limited the further back we go in time. It is important to take this into account for both the findings of this literature study, presented in the following subsections 
\ref{sec:results:rq2_state_of_the_art} and \ref{sec:results:rq3_trade_off}, and for the discussion as presented in section \ref{sec:discussion}.
Considering the aforementioned difficulty with the initial goal of this literature study; from the publication trends we can see that this 
is probably the case because of a rather immature field of study.

\vspace{5mm}

\noindent\fcolorbox{black}[HTML]{FFFFFF}{\parbox{0.47\textwidth}{%
\noindent \textbf{Main Findings.}
\begin{enumerate}[nolistsep]
\item The field of study has been around since before the change of the century.
\item The field can still be considerd immature as publications only recently attained in numbers.
\end{enumerate}}}

% ========================================================================= RQ 2 =========================================================================

\subsection{Results - state-of-the-art (RQ2)}
\label{sec:results:rq2_state_of_the_art}
In this section the state-of-the-art in analyzing and improving energy efficiency in robotics software is presented as found from studying the primary studies.

\noindent\textbf{1. Analyzing:}
The novel cloud evaluation method \cite{hou2017novel_cloud_evaluation_model}, introduces a whole new paradigm in robotics software.
This can be concluded as it is the only paper out of 683 potentially relevant studies, and 17 primary studies, 
that explicitly looks at the execution of robotics software itself for improvement of energy efficiency.

It presents a novel method to evaluate the energy efficiency of a specific piece of software.
The method can be used on existing software, to identifiy bottlenecks, or used during the development of the software itself;
providing the ability to improve the energy efficiency of the software execution during design time.

It can be considered the state-of-the-art of evaluation and analysis, in robotics software.
However, it should be considered that this was the only paper that focussed so explicitly on software and its impact on energy.
Considering the 16 other primary studies, and the observations made as stated in part 8 of subsection \ref{sec:results:insights}; 
it can be stated that another big standard in this field is the evaluation through practice; 
in the form of a simulation, a real-world experiment or a combination thereof.

\vspace{5mm}

\noindent\textbf{2. Improving:}
The methods to improve energy efficiency in robotics software vary significantly across the primary studies. 
As stated in part 5 and 6 of subsection \ref{sec:results:insights}; a trend observed is that they mostly solve hardware (physical) 
inefficiencies using software solutions, like an improved algorithm.

\vspace{2mm}

As stated before, this literature study initially set out to research the state-of-the-art in terms of improving the
energy efficiency of robotics software \textit{itself}.
The fact that only two of the primary studies presented such research forms the basis of the discussion in section \ref{sec:discussion}, 
this section will therefore detail what has been found by studying the primary studies in the context of improving energy efficiency 
by \textit{using} robotics software.

\vspace{2mm}

Each primary study presented an evaluated software solution that improves energy efficiency.
The prime techniques extracted from the primary studies consist of:

\vspace{2mm}

- The technique to off-load computations to other, nearby, robots that are more 'available' 
(i.e. robots that have more resources available for such computations relative to the current one.), or to off-load it to the cloud.
The concept here is that the cloud infrastructure (hardware itself, hardware utilization, etc) is more energy-optimized compared to the
hardware used on the robots themselves, and will thus result in an improved energy efficiency.
Even though some energy is wasted in the transmission of data, the overall energy consumption is decreased \cite{rahman2019cloud_robot_offloading}.
    
\vspace{2mm}

- The technique to improve the path finding for mobile robot exploration. 
Many existing studies select the next target based on the utilities and costs of the frontier cells 
\cite{burgard2005multi_robot_exploration, simmons2000multi_robot_exploration,zlot2002multi_robot_exploration} 
However, study \cite{mei2006mobile_exploration} proves that if the next target is selected based on the orientation of the robot, 
that overlap in the robot trajectory is guaranteed to be impossible. This decreases inefficiency by nature, and thus improves energy 
efficiency.
    
\vspace{2mm}

- The technique to limit stops, directional changes (turns) and the degree to which the direction is changed as much as possible 
significantly improves energy efficiency. By the very nature of this technique, an improved obstacle detection and avoidance algorithm
is needed for mobile robotic systems. This technique is widespread over the primary studies, and presented and evaluated in 
\cite{xie2018mecanum_wheel, kim2016firefighting_robot, benkrid2016multi_robot_exploration, barili1995efficient_motion, 
jia2004grid_strategy_exploration, mei2005energy_consumers_identified, patel2012exploration_strategy}.
    
\vspace{2mm}

- The technique to limit motion at high speeds, with numerous moments of acceleration and decelleration
\cite{wingstrom2013robot_cell_scheduling}.
    
\vspace{2mm}

- The technique to prevent idle time as much as possible \cite{gurel2019industrial_robot_scheduling, 
kaitwanidvilai2020industrial_robot_cycle_time, wingstrom2013robot_cell_scheduling}.
    
\vspace{2mm}

- The technique to limit data transmission by preventing the transmission of duplicate data in distributed robotic systems \cite{huh2013distributed_swarm}.

\vspace{2mm}

- The technique to limit physical inefficiencies (e.g. loss of traction because of payload weight), if possible, by adding more robots to the system which would cause the overall
energy consumption to go down as the physical inefficiency (now solved) was consuming more energy than the addition of the subrobots \cite{kim2016firefighting_robot}.
    
\vspace{2mm}

- The technique to use more advanced hardware (i.e. more energy-optimized, desktop grade, hardware instead of custom robotic hardware) 
on robots in combination with energy-optimized software to improve energy efficiency significantly \cite{cheng2018FPGA_image_recognition}.
    
\vspace{2mm}

- The technique that sacrificing some energy on finding a better position for the transmission of data over a wireless connection
(a higher channel gain) will ultimately improve energy efficiency as less time is spend and wasted on (re)transmitting 
data over a bad wireless connection \cite{licea2013wireless_comms}.

\vspace{5mm}

\noindent\fcolorbox{black}[HTML]{FFFFFF}{\parbox{0.47\textwidth}{%
\noindent \textbf{Main Findings.}
\begin{enumerate}[nolistsep]
\item The most common way to analyze the energy efficiency of robotics software consists of performing experiments, evaluating the results.
\item The state-of-the-art on improving the energy efficiency consists of:
    \begin{enumerate}
        \item Off-loading computations to more energy-optimized infrastructure.
        \item Improved path finding, obstacle avoidance etc.
        \item Limit physical inefficiencies, idle time, acceleration, decelleration, stops, turns, directional changes and the extent of the directional change.
        \item The use of more energy-optimized hardware on robotics themselves.
        \item Sacrificing some energy to achieve higher efficiency, f.e. finding a better location with better signal for data transmission.
    \end{enumerate}
\end{enumerate}}}

% ========================================================================= RQ 3 =========================================================================

\subsection{Results - energy QA trade-off (RQ3)}
\label{sec:results:rq3_trade_off}
From the primary studies it became quickly apparent that no significant improvement of energy efficiency came without the cost
to some other attribute. These trade-offs have been mapped to 
\textit{system Quality Attributes\cite{iso2011quality_attributes}} and will be presented
in this section.

This section aims to give insight into the various costs that have been associated with improving energy efficiency.
Any reader can judge if any QA trade-off is manageable in the context of their own system, when applying the paradigms
described in subsection \ref{sec:results:rq2_state_of_the_art}. 
The QA's that trade-off with improving energy efficiency are further detailed and related to findings from the primary studies below.

\begin{figure}
    \includegraphics[width=250pt]{figures/trade_off_freq.png}
    \caption{QA Trade-off with Efficiency frequency distribution}
    \label{fig:trade_off_freq}
\end{figure}

\vspace{5mm}

It can be observed from figure \ref{fig:trade_off_freq} that the most common QA to trade-off with Efficiency is \textbf{Timeliness}.
This is to be expected as one can reason with common sense that when, f.e. speed is decreased to increase Efficiency, Timeliness will decrease.

Under Timeliness one could also understand the notion of \textit{Performance}, but considering that this is not an official
system's Quality Attribute, it can be explained as Timeliness.

- \textbf{Affordability} trades-off with Efficiency as improving Efficiency can require an increase in cost for the developer.
For example, the addition of subrobots to reduce the loss of traction by the weight of the payload.

- \textbf{Availability} trades-off with Efficiency as improving Efficiency can require the robot to reject stimuli when it predicts
that the stimuli will cost too much or waste energy \cite{kirtay2013humanoid_emotion}.

- \textbf{Mobility} trades-off with Efficiency as improving Efficiency can require the robot to limit stops, turns, directional changes and the degree 
to which the direction is changed as much as possible. This significantly reduces the Mobility of the robot.

- \textbf{Understandability} trades-off with Efficiency as improving Efficiency can require the robot to be more complicated in terms of hardware
and/or software. 
The added complexity; like an improved, more complex, algorithm which improves energy efficiency, can reduce the Understandability of the system.

- \textbf{Simplicity} trades-off with Efficiency as improving Efficiency can require the system to be expanded in a trivial manner, thus not
reducing the Understandability of the system but nonetheless making it more complex. Like adding the aforementioned subrobots to the system.

- \textbf{Timeliness} trades-off with Efficiency as improving Efficiency can require the robot to take the longer route instead of the shortest route
as the shortest route might contain more stops and turns, which is to be limited as much as possible.

\vspace{5mm}

Besides the fact that certain QA's need to be traded-off in order to improve energy efficiency, the extent to which this is required 
matters just as much, if not more.
For each system, the hit to the traded-off QA and the improvement of Efficiency will be significantly different.
Thus, an indication of expected percentages cannot be given.
However, with common sense it can be reasoned that a disproportional hit to the traded-off QA relative to the increase in Efficiency might not be worthwile.

Study \cite{kaitwanidvilai2020industrial_robot_cycle_time} for example states: "This method reduces energy consumption from 8155.20 to 7148.6 J, 
a decrease of 12.3\%.  On the other hand, the total moving time is increased by 71.8\% from 6.60 to 11.34 s". 
In case the system in question can suffer a 71.8\% reduction in Timeliness for a 12.3\% increase in Efficiency, it might be worthwile.
However, it can be considered a good example of a trade-off which might not be worthwile for most systems, let alone time-critical systems.

\vspace{5mm}

\noindent\fcolorbox{black}[HTML]{FFFFFF}{\parbox{0.47\textwidth}{%
\noindent \textbf{Main Findings.}
\begin{enumerate}[nolistsep]
\item The most common QA trade-off relative to Efficiency is \textbf{Timeliness}.
\item Some studies present QA trade-offs which are easily worthwile, like the reduction of Simplicity in favor of an increase in Efficiency.
\item Some QA trade-offs are not worthwhile for most robotic systems, like the reported 12.3\% increase in Efficiency for a 71.8\% decrease in Timeliness.
\end{enumerate}}}
